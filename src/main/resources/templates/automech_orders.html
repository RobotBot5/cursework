<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Заказы</title>
</head>
<body>
<h1>Новые заказы</h1>
<div th:each="order, index : ${orders}">
    <form th:object="${order}" th:action="@{/automech/orders/update-order}" method="POST">
        <table>
            <thead>
            <tr>
                <th>Номер заказа</th>
                <th>Машина</th>
                <th>Услуги</th>
                <th>Есть ли детали на складе?</th>
                <th>Примерное время работы</th>
            </tr>
            </thead>
            <tbody>
            <tr >
                <input type="hidden" th:name="|id|" th:value="${order.id}" />
                <td th:text="${order.id}"></td>
                <td th:text="${order.carEntity.make + ' ' + order.carEntity.bodyType + ' ' + order.carEntity.stateNumber}"></td>
                <td>
                    <ul th:each="service : ${order.serviceEntity}">
                        <li th:text="${service.name}"></li>
                        <input type="hidden" th:name="|serviceIds|" th:value="${service.id}" />
                    </ul>
                </td>
                <td>
                    <input type="checkbox" th:id="'detailsCheckbox' + ${index}" />
                    <input th:name="|detailsWaiting|" type="number" th:id="'detailsWaitingTime' + ${index}" placeholder="Сколько дней?" />
                </td>
                <td>
                    <input th:name="|workingTime|" type="number" th:id="'workingTime' + ${index}" placeholder="Примерное время работы" />
                </td>
            </tr>
            </tbody>
            <button type="submit">Обработать заказ</button>
        </table>
    </form>
</div>

</body>
</html>